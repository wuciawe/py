(function(){var e;e=function(){function e(e,t,r){var a;this.dataService=r,a=[{corder:1,vl:"",rspan:1,cspan:1,exs:""},{corder:2,vl:"",rspan:1,cspan:1,exs:""},{corder:3,vl:"",rspan:1,cspan:1,exs:""},{corder:4,vl:"",rspan:1,cspan:1,exs:""},{corder:5,vl:"",rspan:1,cspan:1,exs:""},{corder:6,vl:"",rspan:1,cspan:1,exs:""},{corder:7,vl:"",rspan:1,cspan:1,exs:""},{corder:8,vl:"",rspan:1,cspan:1,exs:""}],r.updateData("data"),e.tableData=r.tableData,e.refreshTable=function(){return r.updateData("data")},e.mkRow=function(e){var t;return t={},t.rorder=e.body.length+1,t.elements=angular.copy(a),e.cat.rspan+=1,e.body.push(t)},e.rmRow=function(e){return 1===e.body.length?(alert("at east one row required, or you should delete the whole category!"),e.body[0].elements=angular.copy(a)):(e.cat.rspan-=1,e.body.pop())},e.mkCat=function(t){var r;return r={},r.cat={corder:-1,vl:t,rspan:1,cspan:1,exs:""},r.body=[],r.body[0]={},r.body[0].rorder=1,r.body[0].elements=angular.copy(a),e.tableData.vowels.cats.push(r)},e.rmCat=function(){return 1===e.tableData.vowels.cats.length?alert("at east one category required, or you should modify the content of current category!"):e.tableData.vowels.cats.pop()},e.fallback=function(){return alert("copy failed, copy data manually")},e.suc=function(){return alert("copy successed!")},e.button={radio:0},e.mkExp=function(e){var t;return t={w:"",p:""},e.exs.push(t)},e.rmExp=function(e){return e.exs.length>0?e.exs.pop():void 0},e.$watch("files",function(){return e.upload(e.files)}),e.savedata=function(){var t,r,a,n;return n=JSON.stringify(e.tableData.jv),a=new Blob([n],{type:"text/plain"}),r=""+e.tableData.jv.loc.lvl3+".json",t=document.createElement("a"),t.download=r,t.innerHTML="Download File",null!==window.webkitURL?t.href=window.webkitURL.createObjectURL(a):(t.href=window.URL.createObjectURL(a),t.onclick=destroyClickedElement,t.style.display="none",document.body.appendChild(t)),t.click()},e.upload=function(t){var r;return t&&1===t.length?(r=new FileReader,r.onload=function(t){return e.tableData.jv=JSON.parse(t.target.result)},r.readAsText(t[0],"UTF-8")):void 0}}return e}(),angular.module("myApp",["ngAnimate","mgcrea.ngStrap","ngClipboard","angularFileUpload"]).config(["ngClipProvider",function(e){return e.setPath("assets/js/ZeroClipboard.swf")}]).factory("dataService",["$http",function(e){var t;return t=function(){function t(e){this.$http=e}return t.tableData={jv:{},lst:{}},t.dlist=function(){return e.get("data/list.json").success(function(e){return t.tableData.lst=e}).error(function(){return alert("error")})},t.updateData=function(r){return e.get("data/"+r+".json").success(function(e){return t.tableData.jv=e}).error(function(){return alert("error")})},t}()}]).controller("rmzController",["$scope","$upload","dataService",e])}).call(this);